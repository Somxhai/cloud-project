{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nonss/Desktop/CS232/cloud-project/frontend/src/app/staff/activities/%5BactivityId%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\n\r\ninterface StudentActivity {\r\n  activity_id: number;\r\n  user_id: number;\r\n  join_date: string;\r\n  status: string; // \"pending\", \"approved\", \"denied\"\r\n}\r\n\r\ninterface UserInfo {\r\n  user_id: number;\r\n  name: string;\r\n  role: string;\r\n  username: string;\r\n  password: string;\r\n}\r\n\r\ninterface Participant {\r\n  user_id: number;\r\n  student_id: string; // เพิ่มเข้ามา\r\n  name: string;\r\n  join_date: string; // เพิ่มเข้ามา\r\n  status: string;\r\n}\r\n\r\nexport default function ActivityParticipantsPage() {\r\n  const { activityId } = useParams();\r\n  const [participants, setParticipants] = useState<Participant[]>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchParticipants = async () => {\r\n      const studentActivityRes = await fetch(\"/student_activity.json\");\r\n      const userInfoRes = await fetch(\"/user_info.json\");\r\n\r\n      const studentActivityData: StudentActivity[] =\r\n        await studentActivityRes.json();\r\n      const userInfoData: UserInfo[] = await userInfoRes.json();\r\n\r\n      // หา user_id ที่ join กิจกรรมนี้\r\n      const joinedUsers = studentActivityData.filter(\r\n        (sa) => sa.activity_id === Number(activityId)\r\n      );\r\n\r\n      const participantsData: Participant[] = joinedUsers.map((joinedUser) => {\r\n        const userInfo = userInfoData.find(\r\n          (user) => user.user_id === joinedUser.user_id\r\n        );\r\n        return {\r\n          user_id: joinedUser.user_id,\r\n          student_id: \"\",\r\n          name: userInfo ? userInfo.name : \"ไม่พบชื่อ\",\r\n          join_date: joinedUser.join_date,\r\n          status: joinedUser.status,\r\n        };\r\n      });\r\n\r\n      setParticipants(participantsData);\r\n    };\r\n\r\n    fetchParticipants();\r\n  }, [activityId]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen px-6 py-10 sm:px-16 bg-gray-50 dark:bg-[#111] text-gray-900 dark:text-white\">\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4\">\r\n        <h1 className=\"text-2xl sm:text-3xl font-bold\">\r\n          รายชื่อผู้เข้าร่วมกิจกรรม\r\n        </h1>\r\n        <Link\r\n          href=\"/staff/activities\"\r\n          className=\"inline-flex items-center gap-2 bg-gray-800 hover:bg-gray-700 text-white px-5 py-2 rounded-lg text-sm sm:text-base font-medium transition-all duration-200 shadow-md hover:shadow-lg\"\r\n        >\r\n          กลับไปหน้ากิจกรรม\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto bg-white dark:bg-[#1a1a1a] rounded-xl shadow-md p-4\">\r\n        <h2 className=\"text-xl font-semibold text-center mb-4\">\r\n          รายชื่อผู้เข้าร่วมกิจกรรม\r\n        </h2>\r\n        <table className=\"w-full text-sm border-collapse\">\r\n          <thead>\r\n            <tr className=\"bg-gray-100 dark:bg-[#222] text-left\">\r\n              <th className=\"p-3 font-semibold\">User ID</th>\r\n              <th className=\"p-3 font-semibold\">รหัสนักศึกษา</th>\r\n              <th className=\"p-3 font-semibold\">ชื่อ-นามสกุล</th>\r\n              <th className=\"p-3 font-semibold\">วันที่เข้าร่วม</th>\r\n              <th className=\"p-3 font-semibold\">สถานะ</th>\r\n              <th className=\"p-3 font-semibold text-center\">การจัดการ</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {participants.length > 0 ? (\r\n              participants.map((participant) => (\r\n                <tr\r\n                  key={participant.user_id}\r\n                  className=\"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-[#2a2a2a] transition-colors\"\r\n                >\r\n                  <td className=\"p-3\">{participant.user_id}</td>\r\n                  <td className=\"p-3\">{participant.student_id || \"-\"}</td>{\" \"}\r\n                  {/* ยังไม่มีข้อมูล */}\r\n                  <td className=\"p-3\">{participant.name}</td>\r\n                  <td className=\"p-3\">{participant.join_date}</td>\r\n                  <td className=\"p-3 capitalize\">{participant.status}</td>\r\n                  <td className=\"p-3 text-center flex gap-2 justify-center\">\r\n                    <button className=\"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-1 rounded\">\r\n                      Approve\r\n                    </button>\r\n                    <button className=\"bg-red-500 hover:bg-red-600 text-white text-xs px-3 py-1 rounded\">\r\n                      Deny\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan={6} className=\"text-center p-6\">\r\n                  ไม่มีผู้เข้าร่วมในกิจกรรมนี้\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AA6Be,SAAS;IACtB,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAC/B,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB,EAAE;IAElE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,oBAAoB;YACxB,MAAM,qBAAqB,MAAM,MAAM;YACvC,MAAM,cAAc,MAAM,MAAM;YAEhC,MAAM,sBACJ,MAAM,mBAAmB,IAAI;YAC/B,MAAM,eAA2B,MAAM,YAAY,IAAI;YAEvD,iCAAiC;YACjC,MAAM,cAAc,oBAAoB,MAAM,CAC5C,CAAC,KAAO,GAAG,WAAW,KAAK,OAAO;YAGpC,MAAM,mBAAkC,YAAY,GAAG,CAAC,CAAC;gBACvD,MAAM,WAAW,aAAa,IAAI,CAChC,CAAC,OAAS,KAAK,OAAO,KAAK,WAAW,OAAO;gBAE/C,OAAO;oBACL,SAAS,WAAW,OAAO;oBAC3B,YAAY;oBACZ,MAAM,WAAW,SAAS,IAAI,GAAG;oBACjC,WAAW,WAAW,SAAS;oBAC/B,QAAQ,WAAW,MAAM;gBAC3B;YACF;YAEA,gBAAgB;QAClB;QAEA;IACF,GAAG;QAAC;KAAW;IAEf,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAiC;;;;;;kCAG/C,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAKH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAyC;;;;;;kCAGvD,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;0CACC,cAAA,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;4CAAG,WAAU;sDAAoB;;;;;;sDAClC,8OAAC;4CAAG,WAAU;sDAAoB;;;;;;sDAClC,8OAAC;4CAAG,WAAU;sDAAoB;;;;;;sDAClC,8OAAC;4CAAG,WAAU;sDAAoB;;;;;;sDAClC,8OAAC;4CAAG,WAAU;sDAAoB;;;;;;sDAClC,8OAAC;4CAAG,WAAU;sDAAgC;;;;;;;;;;;;;;;;;0CAGlD,8OAAC;0CACE,aAAa,MAAM,GAAG,IACrB,aAAa,GAAG,CAAC,CAAC,4BAChB,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAG,WAAU;0DAAO,YAAY,OAAO;;;;;;0DACxC,8OAAC;gDAAG,WAAU;0DAAO,YAAY,UAAU,IAAI;;;;;;4CAAU;0DAEzD,8OAAC;gDAAG,WAAU;0DAAO,YAAY,IAAI;;;;;;0DACrC,8OAAC;gDAAG,WAAU;0DAAO,YAAY,SAAS;;;;;;0DAC1C,8OAAC;gDAAG,WAAU;0DAAkB,YAAY,MAAM;;;;;;0DAClD,8OAAC;gDAAG,WAAU;;kEACZ,8OAAC;wDAAO,WAAU;kEAAuE;;;;;;kEAGzF,8OAAC;wDAAO,WAAU;kEAAmE;;;;;;;;;;;;;uCAblF,YAAY,OAAO;;;;8DAoB5B,8OAAC;8CACC,cAAA,8OAAC;wCAAG,SAAS;wCAAG,WAAU;kDAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU5D","debugId":null}}]
}